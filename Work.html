<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Magical Love Wonderland</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            font-family: 'Segoe UI', sans-serif;
            color: #fff;
            text-align: center;
            min-height: 100vh;
            position: relative;
            background: linear-gradient(to bottom, #ffdde1, #ee9ca7);
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="%23ff0000" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/></svg>'), auto;
        }

        #initialContent {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: opacity 0.5s ease;
        }

        #poemContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            font-size: 1.5em;
            line-height: 1.8;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
            z-index: 1000;
            overflow-y: auto;
            text-align: center;
        }

        #poemContainer p {
            margin-bottom: 20px;
            text-align: center;
            padding: 0 10px;
        }

        #poemContainer .poem-title {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 1em;
            text-align: center;
            padding: 0 10px;
        }

        #initialContent button,
        .poem-button,
        #showProposalButton,
        .love-reasons-button,
        .kiss-button,
        .gallery-button,
        .timeline-button,
        .letter-button,
        .memory-game-button {
            padding: 10px 20px;
            background-color: #ff4d88;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            color: white;
            cursor: pointer;
            box-shadow: 0 0 10px #fff;
            z-index: 10;
            transition: background-color 0.3s ease;
            margin: 5px;
        }

        #initialContent button:hover,
        #showProposalButton:hover,
        .kiss-button:hover {
            background-color: #ff0066;
        }

        h1 {
            margin-top: 2em;
            font-size: 3em;
            animation: fadeIn 3s ease-out forwards;
            display: none;
        }

        .floating-message {
            position: fixed;
            top: 20px;
            width: 100%;
            text-align: center;
            font-size: 1.3em;
            opacity: 0;
            animation: fadeInOnce 4s ease-out 2s forwards;
            z-index: 10;
            display: none;
        }

        @keyframes fadeInOnce {
            to {
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .heart,
        .gift {
            position: absolute;
            width: 20px;
            height: 20px;
            transform: rotate(45deg);
            animation: float 6s linear infinite;
            opacity: 0.8;
            display: block;
        }

        .heart {
            background: radial-gradient(circle, #ff4d88 0%, #ff0066 100%);
            box-shadow: 0 0 10px #fff3, 0 0 20px #fff6;
            cursor: pointer;
        }

        .heart::before,
        .heart::after {
            content: "";
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #ff4d88 0%, #ff0066 100%);
            border-radius: 50%;
        }

        .heart::before {
            top: -10px;
            left: 0;
        }

        .heart::after {
            left: -10px;
            top: 0;
        }

        .gift {
            font-size: 1.5em;
            animation: floatGift 8s linear infinite;
        }

        @keyframes floatGift {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(-120vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(45deg);
                opacity: 0.9;
            }

            100% {
                transform: translateY(-100vh) rotate(45deg);
                opacity: 0;
            }
        }

        .message {
            position: absolute;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.9);
            color: #d6336c;
            border-radius: 10px;
            font-size: 0.9em;
            white-space: nowrap;
            animation: fadeOut 2.5s ease-out forwards;
            pointer-events: none;
            z-index: 10;
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: translateY(0);
            }

            to {
                opacity: 0;
                transform: translateY(-40px);
            }
        }

        .sparkle {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background-image: radial-gradient(white 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.05;
            animation: sparkleMove 10s linear infinite;
            z-index: 0;
            display: none;
        }

        @keyframes sparkleMove {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 100px 100px;
            }
        }

        .moon {
            position: absolute;
            top: 30px;
            right: 40px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: radial-gradient(#fff, #ffd);
            box-shadow: 0 0 20px 10px #fff7;
            cursor: pointer;
            animation: moonPulse 4s infinite ease-in-out;
            z-index: 5;
            display: none;
        }

        @keyframes moonPulse {
            0%,
            100% {
                box-shadow: 0 0 20px 10px #fff7;
                transform: scale(1);
            }

            50% {
                box-shadow: 0 0 30px 15px #fff;
                transform: scale(1.05);
            }
        }

        .flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            opacity: 0;
            animation: flashGlow 1s ease-in-out;
            z-index: 100;
            pointer-events: none;
        }

        @keyframes flashGlow {
            0% {
                opacity: 0;
            }

            50% {
                opacity: 0.4;
            }

            100% {
                opacity: 0;
            }
        }

        .music-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.7);
            border: none;
            border-radius: 50%;
            padding: 10px;
            font-size: 1.2em;
            cursor: pointer;
            z-index: 10;
        }

        #yesButton {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }

        #yesButton:hover {
            background-color: #367c39;
        }

        #proposalContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            font-size: 1.5em;
            line-height: 1.8;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
            z-index: 1000;
            overflow-y: auto;
            text-align: center;
        }

        #proposalContainer div {
            border: 4px solid #ff4d88;
            border-radius: 10px;
            padding: 10px;
            margin-top: 20px;
            animation: heartbeat 2s infinite;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.05); }
            50% { transform: scale(1); }
            75% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        #proposalContainer h2 {
            font-size: 2em;
            margin-bottom: 20px;
            text-align: center;
        }

        #closePoemButton {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            z-index: 1001;
        }

        #closePoemButton:hover {
            background-color: #d32f2f;
        }

        /* Falling petals */
        @keyframes falling {
            0% { transform: translateY(-10vh) rotate(0deg); }
            100% { transform: translateY(110vh) rotate(360deg); }
        }

        .petal {
            position: fixed;
            top: -10vh;
            font-size: 1.2em;
            animation: falling 15s linear infinite;
            opacity: 0.7;
            z-index: 0;
            pointer-events: none;
        }

        .photo-gallery {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 1001;
            overflow-y: auto;
            padding: 70px 20px 20px;
        }

        .close-gallery {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            z-index: 1002;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 50px;
        }

        .photo-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
            transition: transform 0.3s;
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .photo-item:hover img {
            transform: scale(1.05);
        }

        /* Timeline */
        .timeline-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1001;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }

        .timeline {
            position: relative;
            max-width: 800px;
            margin: 50px auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 2px;
            background-color: #ff4d88;
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -1px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ff4d88;
            border-radius: 50%;
            top: 15px;
            z-index: 1;
        }

        .left {
            left: 0;
        }

        .right {
            left: 50%;
        }

        .left::after {
            right: -10px;
        }

        .right::after {
            left: -10px;
        }

        .timeline-content {
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border: 1px solid #ff4d88;
        }

        .timeline-date {
            font-weight: bold;
            color: #ff4d88;
            margin-bottom: 10px;
        }

        .timeline-text {
            margin-bottom: 10px;
        }

        .timeline-photo {
            width: 100%;
            border-radius: 5px;
            margin-top: 10px;
        }

        .close-timeline {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            z-index: 1002;
        }

        /* Desktop Button Positions */
        #showProposalButton {
            position: fixed;
            bottom: 80px;
            left: 20px;
            padding: 10px 20px;
            background-color: #00B8D4;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2em;
            z-index: 10;
        }

        .poem-button {
            padding: 10px 20px;
            background-color: #800080;
        }

        .love-reasons-button {
            background-color: #FF5722;
        }

        .gallery-button {
            background-color: #9C27B0;
            color: white; /* Kept for consistency */
        }

        .timeline-button {
            background-color: #3F51B5;
        }

        .poem-button:hover {
            background-color: #6a006a; /* Darker purple */
        }

        .love-reasons-button:hover {
            background-color: #e64a19; /* Darker orange */
        }

        .gallery-button:hover {
            background-color: #7B1FA2; /* Darker purple */
        }

        .timeline-button:hover {
            background-color: #303F9F; /* Darker blue */
        }

        .letter-button {
            background-color: #607D8B; /* Slate Gray */
        }
        .letter-button:hover { background-color: #455A64; }

        .memory-game-button {
            background-color: #009688; /* Teal */
        }
        .memory-game-button:hover {
            background-color: #00796B;
        }

        .kiss-button {
            position: fixed;
            bottom: 100px;
            right: 20px;
            padding: 10px 15px;
            background-color: #E91E63;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5em;
            z-index: 10;
        }

        .button-row {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 10px; /* Creates space between buttons */
            z-index: 10;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            /* Arrange buttons in a 2-column grid on mobile */
            #actionButtonsContainer {
                position: fixed;
                bottom: 20px;
                left: 5%;
                right: 5%;
                width: 90%;
                display: flex;
                flex-wrap: wrap-reverse; /* Fill from bottom-up, wrapping into new rows */
                justify-content: center; /* Center the buttons horizontally */
                gap: 10px; /* Consistent spacing */
            }

            #actionButtonsContainer > .button-row > button,
            #actionButtonsContainer > button {
                position: static; /* Add this to make them part of the flex flow */
                padding: 12px 10px; /* Adjust padding for smaller buttons */
                font-size: 1em; /* Adjust font size */
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                border-radius: 8px;
                flex-grow: 1; /* Allow buttons to grow and fill space */
                flex-basis: calc(50% - 5px); /* Two buttons per row with gap */
                margin: 0; /* Reset margins */
                box-sizing: border-box; /* Ensure padding is included in width calculation */
            }

            .button-row {
                position: static; /* Reset fixed positioning */
                display: contents; /* Makes the container 'disappear' for layout flattening */
            }

            /* Adjust gallery and timeline for mobile */
            .photo-gallery, .timeline-container {
                padding-top: 80px;
                padding-bottom: 40px;
            }

            .photo-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 10px;
            }

            .timeline::after {
                left: 15px;
            }

            .timeline-item {
                width: 100%;
                padding-left: 25px;
                padding-right: 25px;
            }

            .timeline-item::after {
                left: 7px;
            }

            .left::after, .right::after {
                left: 7px;
            }

            .left, .right {
                left: 0;
            }

            .memory-grid {
                grid-template-columns: repeat(3, 1fr); /* 3 columns on smaller screens */
            }
        }

        @media (max-width: 480px) {
            .memory-grid {
                grid-template-columns: repeat(2, 1fr); /* 2 columns on very small screens */
            }
        }

        /* Additional adjustments for very small screens */
        @media (max-width: 480px) {
            .photo-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            #showProposalButton, .poem-button, .love-reasons-button, 
            .gallery-button, .timeline-button {
                /* This selector is now too broad, but we'll leave it for now */
                font-size: 1em;
                padding: 10px 15px;
            }
        }

        @keyframes blink {
            from, to { opacity: 1; }
            50% { opacity: 0; }
        }
        .constellation-container {
            /* Optional: Add a subtle background or texture */
        }

        .constellation-container div {
            /* Add any global styles for elements within the container */
        }

        .constellation-container div:not(:last-child) {
            /* Style for stars (not lines) */
            /* Example:  animation: twinkle 2s infinite; */
        }

        .constellation-container div:last-child {
            /* Style for lines */
            /* Example:  stroke-dasharray: 5 5;  animation: dash 5s linear infinite; */
        }

        .constellation-line {
            animation: lineGlow 2s infinite alternate;
        }

        /* The 'twinkle' keyframe is already defined above, this one is a duplicate */

        @keyframes lineGlow {
            0% { opacity: 0.5; }
            100% { opacity: 0.9; }
        }
        const styles = `
        `;
        /* This was an invalid JS block inside CSS */
        .firework {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: white;
            overflow: hidden;
            z-index: 10001; /* Above other elements */
        }

        .firework-particle {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background-color: white;
            opacity: 1;
        }

        @keyframes fireworkExplode {
            0% {
                opacity: 1;
                transform: rotate(0deg) translate(0px) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: rotate(360deg) translate(150px) rotate(-360deg);
            }
        }

        .celebration-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 255, 255, 0.9);
            color: #ff4d88;
            padding: 20px 40px;
            border-radius: 10px;
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            z-index: 10002; /* Above everything */
            animation: pulse 1s infinite alternate;
        }

        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                transform: translate(-50%, -50%) scale(1.1);
            }
        }

        /* Love Letter Styles */
        .love-letter-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 1001;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
            justify-content: center;
            align-items: center;
        }

        .love-letter {
            background-color: #fdf5e6; /* Parchment color */
            color: #5d4037; /* Brown text color */
            padding: 40px;
            border-radius: 10px;
            max-width: 600px;
            font-family: 'Georgia', serif;
            font-size: 1.2em;
            line-height: 1.6;
            text-align: left;
            border: 1px solid #d2b48c;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        .love-letter-cursor {
            display: inline-block;
            animation: blink 1s step-end infinite;
        }

        /* Memory Game Styles */
        .memory-game-container {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 1001;
            padding: 70px 20px 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }
        .close-game {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            z-index: 1002;
        }
        .memory-game-container h2 {
            color: white;
            text-align: center;
            margin-bottom: 20px;
        }
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4 columns */
            gap: 15px;
            max-width: 800px;
            margin: 0 auto;
        }
        .memory-card {
            background-color: transparent; /* The back face will have the color */
            border-radius: 10px;
            cursor: pointer;
            aspect-ratio: 1 / 1;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .memory-card.flip {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%; height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            overflow: hidden;
        }
        .card-front {
            transform: rotateY(180deg);
        }
        .card-front img {
            width: 100%; height: 100%; object-fit: cover;
        }
        .card-back {
            background-color: #ff4d88;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3em;
            color: white;
            font-family: 'Segoe UI', sans-serif;
        }
    </style>
</head>
<body>
    <div id="initialContent">
        <button onclick="initiateLoveWonderland()">Open Your Surprise</button>
    </div>

    <div class="sparkle" style="display: none;"></div>
    <div class="moon" onclick="moonSurprise()" style="display: none;"></div>
    <h1 style="display: none;">For Radwa ❤️</h1>
    <div class="floating-message" style="display: none;">This world is brighter because you're in it, Radwa.</div>

    <audio id="bg-music" loop style="display: none;">
        <source src="background-music.mp3" type="audio/mpeg">
    </audio>

    <audio id="voice-message" style="display: none;">
        <source src="voice-message.mp3" type="audio/mpeg">
    </audio>

    <div id="actionButtonsContainer" style="display: none;">
        <button class="music-button" onclick="toggleMusic()">♫</button>
        <button id="showProposalButton" onclick="showProposal()">Press ME</button>
        <div class="button-row">
            <button class="poem-button" onclick="showPoem()">Surprise</button>
            <button class="love-reasons-button" onclick="showLoveReasons()">Reasons I Love You</button>
            <button class="gallery-button" onclick="showGallery()">Our Photos</button>
            <button class="timeline-button" onclick="showTimeline()">Our Story</button>
            <button class="letter-button" onclick="showLoveLetter()">A Letter For You</button>
            <button class="memory-game-button" onclick="showMemoryGame()">Memory Game</button>
        </div>
        <button class="kiss-button" onclick="sendKiss()">💋</button>
    </div>

    <div id="proposalContainer">
        <div>
            <h2>Will you marry me, Radwa?</h2>
            <button id="yesButton" onclick="acceptProposal()">Yes</button>
        </div>
    </div>

    <div id="poemContainer">
        <button id="closePoemButton" onclick="hidePoem()">Close</button>
        <div class="poem-content">
            <p class="poem-title">A Love Poem for Radwa</p>
            <p>In fields of dreams, where love takes flight,</p>
            <p>You shine, my Radwa, a radiant light.</p>
        </div>
    </div>

    <div class="photo-gallery">
        <button class="close-gallery" onclick="hideGallery()">Close</button>
        <h2>Our Beautiful Moments</h2>
        <div class="photo-grid">
            <!-- Photos will be added dynamically -->
        </div>
    </div>

    <div class="timeline-container">
        <button class="close-timeline" onclick="hideTimeline()">Close</button>
        <h2>Our Love Story</h2>
        <div class="timeline">
            <!-- Timeline items will be added dynamically -->
        </div>
    </div>

    <!-- Memory Game Container -->
    <div class="memory-game-container">
        <button class="close-game" onclick="hideMemoryGame()">Close</button>
        <h2>Memory Lane Game</h2>
        <div class="memory-grid"></div>
    </div>

    <div class="love-letter-container" onclick="hideLoveLetter()">
        <div class="love-letter">
            <p id="letter-content"></p>
            <span class="love-letter-cursor">|</span>
        </div>
    </div>

    <script>
        const loveMessages = [
            "I love you more than words can say! ❤️",
            "You are my sunshine on every cloudy day ☀️",
            "Every beat of my heart whispers your name 💓",
            "You make my world magical ✨",
            "My heart smiles when I think of you 😊",
            "You are my once in a lifetime love 💍",
            "Radwa, you complete my soul 💞",
            "With you, forever doesn't feel long enough 💫",
            "You're my dream come true 💖",
            "You are my everything 💕",
            "Your love is the best thing that ever happened to me 🌹",
            "You're the missing piece to my puzzle 🧩",
            "My favorite place is in your arms 🤗",
            "You stole my heart and I never want it back 💘",
            "Loving you is my favorite thing to do 💝",
            "You're the reason I believe in love 💑",
            "My heart skips a beat when you smile 😍",
            "You're my today and all of my tomorrows 🌅",
            "I would choose you in every lifetime ♾️",
            "Your love is my greatest treasure 💎",
            "You make ordinary moments extraordinary ✨",
            "I'm addicted to your love 💊",
            "My soul recognized yours at first sight 👁️",
            "You're the love story I always wanted to tell 📖",
            "I love you more than yesterday but less than tomorrow 📅",
            "You're my favorite hello and hardest goodbye 👋",
            "Your voice is my favorite sound 🎶",
            "You're my happy place 🏝️",
            "I love you to the moon and back 🌙",
            "You're my favorite what-if that came true ❓",
            "My heart is and always will be yours 💗",
            "You're the best decision I never made 🤔",
            "I love you more than coffee ☕ (and that's saying a lot!)", // This is a great one!
            "You're my favorite notification 🔔",
            "You had me at hello 👋",
            "I'm completely, utterly, irrevocably in love with you 💞",
            "You're the human equivalent of a warm hug 🤗",
            "I love you more than pizza 🍕 (and that's serious!)",
            "You're my favorite place to go when my mind wanders 🧠",
            "You make my heart do backflips 🤸",
            "You're the peanut butter to my jelly 🥪",
            "I love you more than puppies love belly rubs 🐶",
            "You're my favorite notification 📲",
            "I love you more than chocolate 🍫 (and that's a lot!)",
            "You're my favorite thought 💭",
            "I love you more than weekends 📅",
            "You're the cheese to my macaroni 🧀",
            "I love you more than naps 😴 (and I really love naps)",
            "You're the password to my heart ❤️",
            "Are you a magician? Because whenever I look at you, everyone else disappears ✨",
            "I think you're suffering from a lack of Vitamin Me 😉",
            "My favorite fairytale is our love story 🏰",
            "You're my person. It's as simple and as complicated as that 👫",
            "I'm not a photographer, but I can picture us together 📸",
            "You're the 'nothing' when people ask me what I'm thinking about 😊",
            "I love you more than I love hitting the snooze button 😴",
            "You're my favorite distraction 딴짓",
            "If you were a vegetable, you'd be a cute-cumber 🥒",
            "You're the reason I check my phone every 5 seconds 📱",
            "My heart does a little happy dance when I see you 💃",
            "You're my favorite notification, always 🔔",
            "I've fallen for you and I can't get up... and I don't want to! 🥰",
            "You're the marshmallow in my hot chocolate ☕",
            "Life with you is like a party that never ends 🎉",
            "You're the highlight of my day, every day 🌟",
            "I'm so glad you're as weird as me 🤪",
            "You're my anchor in the stormy seas of life ⚓",
            "I love you a latte ☕",
            "You're the only one I want to annoy for the rest of my life 😜",
            "You're my happy pill 💊",
            "You're the sprinkles on my donut 🍩",
            "I'm wearing the smile you gave me 😄",
            "You're my favorite adventure 🗺️",
            "You're the key to my lock 🔑",
            "You're my lobster 🦞",
            "I'm hooked on you 🎣",
            "You're my sunshine, my only sunshine ☀️",
            "You're the song my heart is always singing 🎶",
            "You're my favorite work of art 🎨",
            "You're my home 🏡",
            "You're the best part of my day 💖",
            "You're my lucky charm 🍀",
            "You're my dream that came true 💭",
            "You're my missing puzzle piece 🧩",
            "You're my greatest blessing 🙏",
            "You're my one and only 🥇",
            "You're my forever and always ♾️",
            "You're my everything bagel 🥯",
            "You're the avocado to my toast 🥑",
            "You're the beat to my heart ❤️",
            "You're the stars in my sky ✨",
            "You're the calm to my storm ⛈️",
            "You're the sweet to my sour 🍬",
            "You're the light of my life 💡",
            "You're the butter to my bread 🧈",
            "You're the ink to my pen ✒️",
            "You're the icing on my cake 🎂"
        ];

        const loveReasons = [
            "How your nose crinkles when you laugh",
            "The way you care about tiny details",
            "Your courage inspires me daily",
            "The sound of your voice in the morning",
            "How you always know what to say",
            "Your beautiful mind and kind heart",
            "The way you make ordinary moments special",
            "Your strength in difficult times",
            "How you believe in me even when I don't",
            "Your passion for the things you love",
            "The way you look at me like I'm magic",
            "Your ability to make everyone feel welcome",
            "How you challenge me to be better",
            "Your beautiful smile that lights up rooms",
            "The way you understand me without words",
            "Your patience with my imperfections",
            "How you turn every day into an adventure",
            "Your creativity and unique perspective",
            "The way you love with your whole heart",
            "How you make the world more beautiful",
            "The way you listen, not just to reply, but to understand.",
            "Your unwavering support for my wildest dreams.",
            "How you can make me laugh even when I'm determined to be grumpy.",
            "Your incredible talent for making the best food.",
            "The way you look when you're concentrating on something you love.",
            "Your kindness to strangers.",
            "How you remember the little things I tell you.",
            "The feeling of your hand in mine.",
            "Your ability to find beauty in the simplest things.",
            "The way you're always learning and growing.",
            "Your sense of humor that perfectly matches mine.",
            "How you make me feel safe and protected.",
            "The way you're not afraid to be vulnerable with me.",
            "Your infectious enthusiasm for life.",
            "How you always give the best advice.",
            "The way you stand up for what you believe in.",
            "Your gentle and calming presence.",
            "How you make our home feel like a sanctuary.",
            "The way you're always up for an adventure, big or small.",
            "Your incredible work ethic and dedication.",
            "How you make me feel like the most important person in the world.",
            "The way you can read my mind sometimes.",
            "Your love for animals and all living things.",
            "How you're always honest with me, even when it's hard.",
            "The way you celebrate my successes as if they were your own.",
            "Your resilience in the face of challenges.",
            "How you make me a better person just by being in my life.",
            "The way you can make a boring day exciting.",
            "Your impeccable taste in music and movies.",
            "How you're always my biggest cheerleader.",
            "The way you comfort me when I'm sad.",
            "Your intelligence and the way you see the world.",
            "How you're both my best friend and my soulmate.",
            "The way you're so thoughtful and considerate of others.",
            "Your beautiful, expressive eyes.",
            "How you're always willing to try new things with me.",
            "The way you make me feel cherished and adored.",
            "Your generosity of spirit.",
            "How you always know how to make me feel better.",
            "The way you're so passionate about your hobbies.",
            "Your ability to forgive and not hold grudges.",
            "How you make me feel like I can accomplish anything.",
            "The way you're so patient and understanding.",
            "Your beautiful soul, inside and out.",
            "How you're always my rock.",
            "The way you make me feel so loved and appreciated.",
            "Your adventurous spirit.",
            "How you always put our relationship first.",
            "The way you make me feel like I'm home.",
            "Because you are you, and that's more than enough."            
        ];

        const timelineEvents = [
            {
                date: "08 Jan 2025",
                title: "The Spark",
                description: "The moment our eyes met and my heart knew something special was beginning.",
                photo: "photo24.jpg",
                side: "left"
            },
            {
                date: "28 Jan 2025",
                title: "Coffee and Conversations",
                description: "That ordinary moment when I suddenly realized I couldn't imagine life without you.",
                photo: "photostart.jpg",
                side: "right"
            },
            {
                date: "01 Feb 2025",
                title: "I met your family",
                description: "That perfect moment when the world disappeared and it was just us.",
                photo: "photo25.jpg",
                side: "left"
            },
            {
                date: "15 Feb 2025",
                title: "Start of our Adventure Together",
                description: "When we officially become 1 soul in 2 bodies, when we decided to choose each other.",
                photo: "photo10.jpg",
                side: "right"
            },
            {
                date: "26 Feb 2025",
                title: "Buying our Jewelery",
                description: "That magical night when our hearts were bouncing, and dancing inside our bodies, and our wings could not fit inside our rooms.",
                photo: "photo22.jpg",
                side: "left"
            },
            {
                date: "17 Mar 2025",
                title: "First Place and Palace",
                description: "Buying my Engagement suit and visiting the palace where we decided to hold our Engagement photosession in, when I realized that my butterfly is much more beautiful than these butterflies.",
                photo: "photo18.jpg",
                side: "right"
            },
            {
                date: "25 Mar 2025",
                title: "My Happiest Birthday Ever",
                description: "One of the warmest moment I felt in my entire life, being with my second family.",
                photo: "photo15.jpg",
                side: "left"
            },
            {
                date: "12 Apr 2025",
                title: "I Was Yours Forever",
                description: "When my soul finally had some rest in its home, fireworks in my heart, and calmness in my mind.",
                photo: "photo3.jpg",
                side: "right"
            },
            {
                date: "2 May 2025",
                title: "First Occasion Together",
                description: "Anywhere, anytime, My heart will always be only yours.",
                photo: "photo26.jpg",
                side: "left"
            },
            {
                date: "3 May 2025",
                title: "Creating Memories Together",
                description: "You are my pride, you are my light in the darkness. You are my beautiful flower.",
                photo: "photo27.jpg",
                side: "right"
            },
            {
                date: "07 Jun 2025",
                title: "Butterfly Museum Revisited",
                description: "Returning to the place of butterflies, but this time our love had grown wings of its own, soaring higher and more beautifully than ever before.",
                photo: "IMG-20250608-WA0120.jpg",
                side: "left"
            },
            {
                date: "09 Jun 2025",
                title: "A Perfect Night Out",
                description: "A night of movies and fine dining, where every detail was as perfect as the woman sitting next to me. You make every moment feel like a scene from a classic romance.",
                photo: "IMG-20250609-WA0054.jpg",
                side: "right"
            },
            {
                date: "12 Jun 2025",
                title: "Closing One Chapter",
                description: "The end of one journey is simply the beginning of another. Watching you bravely close this chapter filled me with immense pride and excitement for what's next.",
                photo: "IMG-20250613-WA0036.jpg",
                side: "left"
            },
            {
                date: "16 Jun 2025",
                title: "A New Beginning",
                description: "You stepped into a new chapter with grace and courage. I am so incredibly proud of you and will always be your biggest supporter, cheering you on every step of the way.",
                photo: "IMG-20250630-WA0072.jpg",
                side: "right"
            },
            {
                date: "20 Jul 2025",
                title: "Building Our Nest",
                description: "Choosing the pieces that will build our home, our sanctuary. With every choice, I wasn't just seeing furniture; I was seeing our future, and it felt like I was floating on clouds.",
                photo: "IMG_20250720_202600.jpg",
                side: "left"
            }
        ];

        const galleryPhotos = [
            "IMG-20250530-WA0043.jpg",
            "IMG-20250605-WA0062.jpg",
            "IMG-20250608-WA0120.jpg",
            "IMG-20250608-WA0184.jpg",
            "IMG-20250609-WA0054.jpg",
            "IMG-20250610-WA0056.jpg",
            "IMG-20250610-WA0059.jpg",
            "IMG-20250610-WA0060.jpg",
            "IMG-20250610-WA0079.jpg",
            "IMG-20250613-WA0036.jpg",
            "IMG-20250630-WA0035.jpg",
            "IMG-20250630-WA0072.jpg",
            "IMG-20250704-WA0020.jpg",
            "IMG-20250719-WA0016.jpg",
            "IMG_20250703_184702.jpg",
            "IMG_20250706_110051.jpg",
            "IMG_20250707_141754.jpg",
            "IMG_20250720_202600.jpg",
            "IMG_20250722_105230.jpg",
            "photo1.jpg",
            "photo10.jpg",
            "photo11.jpg",
            "photo12.jpg",
            "photo13.jpg",
            "photo14.jpg",
            "photo15.jpg",
            "photo16.jpg",
            "photo17.jpg",
            "photo18.jpg",
            "photo19.jpg",
            "photo2.jpg",
            "photo20.jpg",
            "photo21.jpg",
            "photo22.jpg",
            "photo23.jpg",
            "photo24.jpg",
            "photo25.jpg",
            "photo26.jpg",
            "photo27.jpg",
            "photo3.jpg",
            "photo4.jpg",
            "photo5.jpg",
            "photo6.jpg",
            "photo7.jpg",
            "photo8.jpg",
            "photo9.jpg",
            "photostart.jpg"
        ];

        let wonderlandInitiated = false;
        let poemVisible = false;
        let proposalVisible = false;

        let heartInterval;
        let giftInterval;
        let randomHeartInterval;
        let petalInterval;

        // Check if she's been here before
        if (localStorage.getItem('radwaVisited')) {
            document.querySelector('h1').textContent += ' Welcome back, my love!';
        } else {
            localStorage.setItem('radwaVisited', 'true');
        }

        function showOverlay(elementToShow) {
            // Hide all overlays first
            document.querySelectorAll('.photo-gallery, .timeline-container, .constellation-container, #poemContainer, .love-letter-container, .memory-game-container').forEach(el => {
                if (el.id === 'poemContainer') {
                    // Reset poem container to its hidden state using opacity for transitions
                    el.style.opacity = '0';
                    el.style.visibility = 'hidden';
                } else {
                    // Hide other overlays
                    el.style.display = 'none';
                }
            });

            // Hide action buttons
            document.getElementById('actionButtonsContainer').style.display = 'none';

            // Show the target overlay
            if (elementToShow) {
                if (elementToShow.id === 'poemContainer') {
                    // Show poem container with its fade effect
                    elementToShow.style.opacity = '1';
                    elementToShow.style.visibility = 'visible';
                } else {
                    // Show other overlays by setting display
                    elementToShow.style.display = 'block';
                }
            }
        }

        function createConstellation(name = "RADWA") {
    // Remove existing constellations
    const existing = document.querySelector('.constellation-container');
    if (existing) existing.remove();

    // Create container
    const container = document.createElement('div');
    container.className = 'constellation-container';

    showOverlay(container);

    container.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.9);
        z-index: 10000;
        pointer-events: auto;
        display: flex;
        justify-content: center;
        align-items: center;
    `;
    
    // Close button
    const closeBtn = document.createElement('button');
    closeBtn.textContent = '×';
    closeBtn.style.cssText = `
        position: absolute;
        top: 20px;
        right: 20px;
        background: #ff4d88;
        color: white;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        font-size: 24px;
        cursor: pointer;
        z-index: 10001;
    `;
    closeBtn.onclick = () => {
        container.remove();
        document.getElementById('actionButtonsContainer').style.display = 'block';
    };
    container.appendChild(closeBtn);

    // Detailed star positions for each letter
    const LETTER_MAP = {
    R: [
        [10, 100 - 0],   // Bottom left -> Top left
        [10, 100 - 100], // Top left -> Bottom left
        [60, 100 - 100], // Top right -> Bottom right
        [70, 100 - 90],  // Top curve start -> Bottom curve end
        [75, 100 - 70],  // Top curve middle -> Middle curve
        [70, 100 - 55],  // Top curve end -> Top curve start
        [60, 100 - 50],  // Middle right -> Middle right (remains the same)
        [10, 100 - 50],  // Middle left -> Middle left (remains the same)
        [35, 100 - 15],  // Bottom leg start -> Top leg end
        [60, 100 - 0]    // Bottom leg end -> Top leg start
    ],
    A: [
        [0, 100], [25, 0], [50, 100], // The main V-shape
        null, // This creates a break in the path
        [12, 60], [38, 60] // The cross-bar
    ],
    D: [[0, 0], [0, 100], [40, 80], [40, 20], [0, 0]],
    W: [[0, 0], [10, 100], [25, 40], [40, 100], [50, 0]],
};
    const BASE_SIZE = 15; // Size per letter in vw
    const SPACING = 5; // Space between letters in vw
    
    // Create the full constellation
    name.split('').forEach((letter, letterIndex) => {
        const group = document.createElement('div');
        group.style.position = 'absolute';
        group.style.left = `${letterIndex * (BASE_SIZE + SPACING)}vw`;
        group.style.width = `${BASE_SIZE}vw`;
        group.style.height = `${BASE_SIZE}vw`;

        const points = LETTER_MAP[letter.toUpperCase()] || [];
        points.forEach(point => {
            // Skip null points used for breaking paths
            if (!point) return;
            const [xPercent, yPercent] = point;

            // Create star
            const star = document.createElement('div');
            star.className = 'constellation-star';
            star.style.cssText = `
                position: absolute;
                left: ${xPercent}%;
                top: ${yPercent}%;
                width: 8px;
                height: 8px;
                background: white;
                border-radius: 50%;
                box-shadow: 0 0 10px white;
                transform: translate(-50%, -50%);
                animation: twinkle 2s infinite;
            `;
            group.appendChild(star);
        });

        // Create connections between stars
        for(let i = 0; i < points.length - 1; i++) {
            const p1 = points[i];
            const p2 = points[i+1];
            
            // If either point is null, it's a path break, so we skip drawing a line
            if (!p1 || !p2) continue;
            
            const line = document.createElement('div');
            line.className = 'constellation-line';
            
            const length = Math.sqrt(
                Math.pow(p2[0]-p1[0], 2) + 
                Math.pow(p2[1]-p1[1], 2)
            );
            
            const angle = Math.atan2(
                p2[1] - p1[1], 
                p2[0] - p1[0]
            ) * 180 / Math.PI;

            line.style.cssText = `
                position: absolute;
                left: ${p1[0]}%;
                top: ${p1[1]}%;
                width: ${length}%;
                height: 2px;
                background: linear-gradient(90deg, rgba(255,255,255,0.8), rgba(255,255,255,0.2));
                transform-origin: 0 50%;
                transform: rotate(${angle}deg);
                animation: lineGlow 3s infinite;
            `;
            
            group.appendChild(line);
        }

        container.appendChild(group);
    });

    document.body.appendChild(container);
}

        function initiateLoveWonderland() {
            if (wonderlandInitiated) return;
            wonderlandInitiated = true;

            document.getElementById('initialContent').style.display = 'none';
            document.querySelector('.sparkle').style.display = 'block';
            document.querySelector('.moon').style.display = 'block';
            document.querySelector('h1').style.display = 'block';
            document.querySelector('.floating-message').style.display = 'block';
            document.getElementById('actionButtonsContainer').style.display = 'block';

            // Start creating petals
            createPetals();

            // Start creating hearts on mouse/touch movement
            document.addEventListener('mousemove', createHeartAtPosition);
            document.addEventListener('touchmove', handleTouchMove);

            // Start random hearts floating up
            heartInterval = setInterval(createRandomHeart, 800);
            
            // Start showing random messages from floating hearts
            randomHeartInterval = setInterval(createMessageHeart, 3000);
            
            // Start creating gifts
            giftInterval = setInterval(createGift, 10000);

            // Try to play music (with error handling)
            const music = document.getElementById('bg-music');
            music.volume = 0.3;
            music.play().catch(e => console.log("Audio play prevented:", e));
        }

        function createPetals() {
            const petals = ['🌸', '🌹', '🍂', '💮'];
            petalInterval = setInterval(() => {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.textContent = petals[Math.floor(Math.random() * petals.length)];
                petal.style.left = Math.random() * window.innerWidth + 'px';
                petal.style.animationDuration = (10 + Math.random() * 10) + 's';
                document.body.appendChild(petal);
                setTimeout(() => petal.remove(), 15000);
            }, 300);
        }

        function createHeartAtPosition(e) {
            createHeart(e.clientX, e.clientY, false);
        }

        function handleTouchMove(e) {
            e.preventDefault();
            for (let touch of e.touches) {
                createHeart(touch.clientX, touch.clientY, false);
            }
        }

        function createRandomHeart() {
            const x = Math.random() * window.innerWidth;
            const y = window.innerHeight + 20;
            createHeart(x, y, true);
        }

        function createMessageHeart() {
            const x = Math.random() * window.innerWidth;
            const y = window.innerHeight + 20;
            const heart = createHeart(x, y, true);
            
            // Show message after a delay when heart is halfway up
            setTimeout(() => {
                if (Math.random() < 0.7) { // 70% chance to show message
                    showLoveMessage(x, window.innerHeight / 2);
                }
            }, 3000);
        }

        function showLoveMessage(x, y, customMessage) {
            const message = customMessage || loveMessages[Math.floor(Math.random() * loveMessages.length)];
            const msgElem = document.createElement('div');
            msgElem.className = 'message';
            msgElem.textContent = message;
            msgElem.style.left = `${x}px`;
            msgElem.style.top = `${y}px`;
            document.body.appendChild(msgElem);
            
            // Auto-remove after animation
            setTimeout(() => {
                if (msgElem.parentNode) {
                    msgElem.parentNode.removeChild(msgElem);
                }
            }, 2500);
        }

        function createHeart(x, y, isRandom = false) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.style.left = `${x}px`;
            heart.style.top = `${y}px`;
            document.body.appendChild(heart);

            // Make hearts clickable to show messages
            heart.addEventListener('click', (e) => {
                e.stopPropagation();
                showLoveMessage(x, y);
            });

            // Auto-remove after animation
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, 6000);

            return heart;
        }

        function createGift() {
            const gifts = ['💍', '💌', '🌹'];
            const gift = document.createElement('div');
            gift.className = 'gift';
            gift.textContent = gifts[Math.floor(Math.random() * gifts.length)];
            gift.style.left = `${Math.random() * window.innerWidth}px`;
            gift.style.top = `${window.innerHeight}px`;
            document.body.appendChild(gift);
            
            // Make gifts clickable to show messages
            gift.addEventListener('click', (e) => {
                e.stopPropagation();
                showLoveMessage(parseInt(gift.style.left), parseInt(gift.style.top));
            });

            // Auto-remove after animation
            setTimeout(() => {
                if (gift.parentNode) {
                    gift.parentNode.removeChild(gift);
                }
            }, 8000);
        }

        function moonSurprise() {
            const flash = document.createElement('div');
            flash.className = 'flash';
            document.body.appendChild(flash);
            setTimeout(() => flash.remove(), 1000);
            
            // Show multiple messages when moon is clicked
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    showLoveMessage(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight
                    );
                }, i * 500);
            }
            createConstellation("RADWA");
        }

        function showProposal() {
            proposalVisible = true;
            document.getElementById('proposalContainer').style.opacity = '1';
            document.getElementById('proposalContainer').style.visibility = 'visible';
            initiateLoveWonderland();
        }

        function toggleMusic() {
            const music = document.getElementById('bg-music');
            if (music.paused) {
                music.play().catch(e => console.log("Audio play failed:", e));
            } else {
                music.pause();
            }
        }

        function acceptProposal() {
    // Clear background animation intervals to prevent memory leaks
    clearInterval(heartInterval);
    clearInterval(giftInterval);
    clearInterval(randomHeartInterval);
    clearInterval(petalInterval);

    document.getElementById('proposalContainer').style.display = 'none';

    // Create voice message heart (as before)
    createVoiceHeart();

    // --- Celebration Animation ---

    // 1. Fireworks
    createFireworks(20); // Reduced for better performance

    // 2. Heart Shower (more intense)
    for (let i = 0; i < 50; i++) { // Increased number of hearts
        setTimeout(() => {
            createRandomHeart();
        }, i * 100); // Faster heart generation
    }

    // 3. Congratulatory Message
    showCelebrationMessage("She said YES! ❤️🎉");

    // 4. Sound Effect
    playCelebrationSound();

    // (Removed the alert)
    // alert("She said YES! ❤️🎉");
}

// --- Helper Functions ---

function createFireworks(numFireworks) {
    for (let i = 0; i < numFireworks; i++) {
        setTimeout(() => {
            createFirework();
        }, i * 150); // Increased stagger for smoother performance
    }
}

function createFirework() {
    const firework = document.createElement('div');
    firework.className = 'firework';
    firework.style.left = Math.random() * window.innerWidth + 'px';
    firework.style.top = Math.random() * window.innerHeight + 'px';
    document.body.appendChild(firework);

    // Create particles for the firework
    for (let i = 0; i < 20; i++) {
        const particle = document.createElement('div');
        particle.className = 'firework-particle';
        particle.style.backgroundColor = getRandomColor();
        firework.appendChild(particle);

        // Apply animation with random direction and speed
        const angle = Math.random() * 360;
        const distance = Math.random() * 100 + 50; // Distance particles travel
        const speed = Math.random() * 1 + 0.5; // Speed of particles

        particle.style.animation = `fireworkExplode ${speed}s ease-out forwards`;
        particle.style.transform = `rotate(${angle}deg) translate(${distance}px) rotate(-${angle}deg)`;
    }

    // Remove firework after animation
    setTimeout(() => {
        firework.remove();
    }, 1500); // Increased to match the maximum possible particle animation duration
}

        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function showCelebrationMessage(message) {
            const msgElem = document.createElement('div');
            msgElem.className = 'celebration-message';
            msgElem.textContent = message;
            document.body.appendChild(msgElem);
        
            // Remove message after a delay
            setTimeout(() => {
                msgElem.remove();
            }, 3000);
        }

        function playCelebrationSound() {
            const sound = new Audio('celebration.mp3'); // Replace with your sound file
            sound.play().catch(e => console.error("Celebration sound failed:", e));
        }


        function createVoiceHeart() {
            const heart = document.createElement('div');
            heart.innerHTML = '💌'; // Love letter emoji
            heart.style.position = 'fixed';
            heart.style.fontSize = '2em';
            heart.style.cursor = 'pointer';
            heart.style.left = '50%';
            heart.style.top = '30%';
            heart.style.transform = 'translateX(-50%)';
            heart.style.zIndex = '1001';
            heart.onclick = () => {
                document.getElementById('voice-message').play();
                heart.innerHTML = 'I LOVE YOU!';
                setTimeout(() => heart.remove(), 2000);
            };
            document.body.appendChild(heart);
        }

    // Define your poems as an array of objects
    const poems = [
    {
        title: "A Love Poem for Radwa",
        text: [
            "In fields of dreams, where love takes flight,",
            "You shine, my Radwa, a radiant light.",
            "Your eyes, like stars, in twilight's grace,",
            "A gentle smile upon your face.",
            "Your laughter echoes, a sweet refrain,",
            "Easing my heart from every pain.",
            "With every beat, my love grows strong,",
            "In your embrace, is where I belong.",
            "Through passing time, my love will be,",
            "Forever bound to you, eternally."
        ]
    },
    {
        title: "My Dearest Radwa",
        text: [
            "Your love's a flame, forever bright,",
            "Guiding me through the darkest night.",
            "Your smile, a sunrise, warm and true,",
            "My heart beats only, love, for you.",
            "Through laughter shared and tears we've cried,",
            "Our bond unbreakable, side by side.",
            "With every passing day, I find,",
            "My love for you, of a special kind.",
            "Forever yours, my soulmate dear,",
            "With you, my future's crystal clear."
        ]
    },
    {
        title: "Radwa, My Guiding Star",
        text: [
            "Like a star, you light my way,",
            "Chasing shadows far away.",
            "In your eyes, a universe I see,",
            "My Radwa, you're everything to me.",
            "Through stormy weather, you're my peace,",
            "My love for you will never cease.",
            "With every breath, I whisper low,",
            "My heart's devotion starts to grow.",
            "Forever bound, our souls entwined,",
            "A love like ours, so hard to find."
        ]
    },
    {
        title: "To Radwa, My Heart's Desire",
        text: [
            "You paint my world in colors bright,",
            "Filling my days with pure delight.",
            "Your touch, a spark, ignites my soul,",
            "Making me happy, making me whole.",
            "With you, each moment's a sweet embrace,",
            "A love that time cannot erase.",
            "My Radwa, you're my dream come true,",
            "My love, my life, I give to you.",
            "Eternally, my heart will stay,",
            "Forever yours, come what may."
        ]
    },
    {
        title: "Radwa's Embrace",
        text: [
            "In Radwa's embrace, I find my peace,",
            "A love so deep, it will never cease.",
            "Her laughter rings, a melody sweet,",
            "A rhythm that makes my heart complete.",
            "Her eyes, like pools, reflect the sky,",
            "A love so vast, it makes me fly.",
            "With every touch, a gentle spark,",
            "Igniting flames within the dark.",
            "My Radwa, my love, my guiding light,",
            "Forever with you, my future's bright."
        ]
    },
    {
        title: "A Symphony of Love",
        text: [
            "Our love's a symphony, a sweet refrain,",
            "A melody that washes away the pain.",
            "Each note a moment, precious and true,",
            "A testament to me and you.",
            "Your voice, a harmony, soft and clear,",
            "Whispering words I long to hear.",
            "Our hearts in rhythm, a perfect beat,",
            "A love so strong, it can't be beat.",
            "Forever playing, this song of ours,",
            "A love that blooms like fragrant flowers."
        ]
    },
    {
        title: "Radwa, My Everything",
        text: [
            "You are the sun that warms my day,",
            "The moon that guides me on my way.",
            "The stars that twinkle in the night,",
            "My Radwa, you're my guiding light.",
            "The air I breathe, the ground I tread,",
            "The thoughts that linger in my head.",
            "My everything, my heart's desire,",
            "A love that sets my soul on fire.",
            "Forever grateful, for all you are,",
            "My shining star, both near and far."
        ]
    },
    {
        title: "A Love Unending",
        text: [
            "Like the ocean's waves, our love expands,",
            "Reaching shores of distant lands.",
            "A love unending, vast and deep,",
            "Secrets our hearts forever keep.",
            "Through changing tides and stormy seas,",
            "Our love remains, a gentle breeze.",
            "A beacon bright, in darkest night,",
            "Guiding us towards the morning light.",
            "Forever bound, our souls entwined,",
            "A love like ours, so hard to find."
        ]
    },
    {
        title: "Radwa's Magic",
        text: [
            "In Radwa's eyes, a magic lies,",
            "A spell that captivates and mesmerizes.",
            "Her touch, a whisper, soft and light,",
            "Chasing away the darkest night.",
            "Her smile, a potion, sweet and rare,",
            "Healing wounds and banishing care.",
            "A love so potent, strong and true,",
            "My heart enchanted, forever with you.",
            "Forever under Radwa's spell,",
            "A love story, I'll always tell."
        ]
    },
    {
        title: "To My Beloved Radwa",
        text: [
            "My beloved Radwa, my heart's delight,",
            "You fill my world with colors bright.",
            "Your laughter dances, a joyful sound,",
            "The sweetest music can be found.",
            "Your presence, a gift, a treasure rare,",
            "A love beyond compare.",
            "With every glance, my spirit soars,",
            "To heights unknown, to distant shores.",
            "Forever yours, my love, my life,",
            "My cherished Radwa, my faithful wife."
        ]
    }
];

    function showPoem() {
    const poemContainer = document.getElementById('poemContainer');
    const poemContent = poemContainer.querySelector('.poem-content');

    // Select a random poem
    const randomIndex = Math.floor(Math.random() * poems.length);
    const selectedPoem = poems[randomIndex];

    // Replace the entire content, including the title
    poemContent.innerHTML = `<p class="poem-title">${selectedPoem.title}</p>${selectedPoem.text.map(line => `<p>${line}</p>`).join('')}`;

    showOverlay(poemContainer);
}


        function hidePoem() {
            const poemContainer = document.getElementById('poemContainer');
            poemContainer.style.opacity = '0';
            poemContainer.style.visibility = 'hidden';
            document.getElementById('actionButtonsContainer').style.display = 'block';
        }

       function showLoveReasons() {
    // Create 50 floating love reason messages
    for (let i = 0; i < 50; i++) {
        setTimeout(() => {
            const reason = document.createElement('div');
            reason.className = 'message';
            
            // Select a random love reason
            reason.textContent = loveReasons[Math.floor(Math.random() * loveReasons.length)];
            
            // Random position on screen
            reason.style.left = Math.random() * window.innerWidth + 'px';
            reason.style.top = Math.random() * window.innerHeight + 'px';
            
            // Random slight rotation for natural look (-15deg to 15deg)
            reason.style.transform = `rotate(${Math.random() * 30 - 15}deg)`;
            
            // Random animation duration (3-5 seconds)
            reason.style.animation = `fadeOut ${3 + Math.random() * 2}s forwards`;
            
            // Random font size (slightly bigger or smaller)
            reason.style.fontSize = `${0.8 + Math.random() * 0.4}em`;
            
            // Different background colors for visual interest
            const colors = [
                'rgba(255, 255, 255, 0.9)',
                'rgba(255, 215, 215, 0.9)',
                'rgba(255, 240, 240, 0.9)'
            ];
            reason.style.background = colors[Math.floor(Math.random() * colors.length)];
            
            document.body.appendChild(reason);
            
            // Remove element after animation completes
            setTimeout(() => {
                if (reason.parentNode) {
                    reason.parentNode.removeChild(reason);
                }
            }, 5000); // Increased to match max animation duration (3s + 2s)
            
        }, i * 100); // Stagger appearance (every 100ms)
    }
    
    // Create some floating hearts along with the messages
    for (let i = 0; i < 20; i++) {
        setTimeout(() => {
            createRandomHeart();
        }, i * 150);
    }
}
    
          function showGallery() {
    const gallery = document.querySelector('.photo-gallery');
    const grid = document.querySelector('.photo-grid');
    showOverlay(gallery);
    // Clear previous photos
    grid.innerHTML = '';
    
    // Add photos to gallery
    galleryPhotos.forEach((photo, index) => {
        const item = document.createElement('div');
        item.className = 'photo-item';
        
        const img = new Image();
        img.src = `photos/${photo}`;
        img.alt = `Our memory ${index + 1}`;
        img.onerror = function() {
            this.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23ff4d88"><rect width="100" height="100"/><text x="50" y="50" font-size="8" fill="white" text-anchor="middle" dominant-baseline="middle">Photo ${index+1}</text></svg>';
        };
        
        item.appendChild(img);
        grid.appendChild(item);
    });
}

function hideGallery() {
    document.querySelector('.photo-gallery').style.display = 'none';
    document.getElementById('actionButtonsContainer').style.display = 'block';
}
    
          

        function showTimeline() {
            const timelineContainer = document.querySelector('.timeline-container');
            const timeline = document.querySelector('.timeline');
            
            // Clear previous timeline items
            timeline.innerHTML = '';

            showOverlay(timelineContainer);
            
            // Add events to timeline
            timelineEvents.forEach(event => {
                const item = document.createElement('div');
                item.className = `timeline-item ${event.side}`;
                
                const content = document.createElement('div');
                content.className = 'timeline-content';
                content.innerHTML = `
                    <div class="timeline-date">${event.date}</div>
                    <h3>${event.title}</h3>
                    <p class="timeline-text">${event.description}</p>
                `;
                
                // Add photo if available
                if (event.photo) {
                    // Added alt text for accessibility and an onerror handler for robustness
                    const imgHTML = `<img src="timeline-photos/${event.photo}" class="timeline-photo" alt="${event.title}" onerror="this.style.display='none'; this.onerror=null;">`;
                    content.innerHTML += imgHTML;
                }
                
                item.appendChild(content);
                timeline.appendChild(item);
            });
        }

        function hideTimeline() {
            document.querySelector('.timeline-container').style.display = 'none';
            document.getElementById('actionButtonsContainer').style.display = 'block';
        }

        // Initialize with a heart cursor
        document.body.style.cursor = "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill=\"%23ff0000\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/></svg>'), auto";
    
        function sendKiss() {
            const kiss = document.createElement('div');
            kiss.textContent = '💋';
            kiss.style.position = 'fixed';
            kiss.style.fontSize = '2em';
            kiss.style.left = Math.random() * window.innerWidth + 'px';
            kiss.style.top = Math.random() * window.innerHeight + 'px';
            kiss.style.animation = 'fadeOut 2s forwards';
            document.body.appendChild(kiss);
            setTimeout(() => kiss.remove(), 2000);
        }

        function showLoveLetter() {
            const letterContainer = document.querySelector('.love-letter-container');
            const letterContent = document.getElementById('letter-content');
            const letterText = "My Dearest Radwa,\n\nEvery day with you feels like a page from a beautiful story. A story I never want to end. You are the melody my heart sings, the light that guides me, and the home my soul has always searched for. I love you more than words can ever capture.\n\nForever Yours,\nAhmed Rafique";
            
            letterContent.innerHTML = ''; // Clear previous text
            showOverlay(letterContainer);
            letterContainer.style.display = 'flex'; // Use flex to center the letter

            let i = 0;
            function typeWriter() {
                if (i < letterText.length) {
                    // Replace newline characters with <br> tags
                    if (letterText.charAt(i) === '\n') {
                        letterContent.innerHTML += '<br>';
                    } else {
                        letterContent.innerHTML += letterText.charAt(i);
                    }
                    i++;
                    setTimeout(typeWriter, 50); // Adjust typing speed here
                }
            }
            typeWriter();
        }

        function hideLoveLetter() {
            document.querySelector('.love-letter-container').style.display = 'none';
            document.getElementById('actionButtonsContainer').style.display = 'block';
        }

        function showMemoryGame() {
            const gameContainer = document.querySelector('.memory-game-container');
            const grid = document.querySelector('.memory-grid');
            showOverlay(gameContainer);
            grid.innerHTML = ''; // Clear previous game

            // Use 8 photos for a 16-card game (4x4 grid)
            // Ensure we don't try to slice more photos than available
            const photoCount = Math.min(galleryPhotos.length, 8);
            if (photoCount < 2) {
                grid.innerHTML = "<p style='color:white; text-align:center;'>Not enough photos for a game!</p>";
                return;
            }
            const gamePhotos = galleryPhotos.slice(0, photoCount);
            const cardSet = [...gamePhotos, ...gamePhotos]; // Duplicate for pairs

            // Shuffle the cards
            cardSet.sort(() => 0.5 - Math.random());

            let flippedCards = [];
            let lockBoard = false;
            let matchesFound = 0;

            cardSet.forEach(photoName => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.photo = photoName;

                card.innerHTML = `
                    <div class="card-face card-front">
                        <img src="photos/${photoName}" alt="Memory Photo">
                    </div>
                    <div class="card-face card-back">?</div>
                `;
                grid.appendChild(card);

                card.addEventListener('click', () => {
                    if (lockBoard || card.classList.contains('flip') || card.classList.contains('matched')) return;

                    card.classList.add('flip');
                    flippedCards.push(card);

                    if (flippedCards.length === 2) {
                        lockBoard = true;
                        // Check for match
                        if (flippedCards[0].dataset.photo === flippedCards[1].dataset.photo) {
                            // It's a match!
                            flippedCards.forEach(c => c.classList.add('matched'));
                            matchesFound++;
                            flippedCards = [];
                            lockBoard = false;

                            if (matchesFound === photoCount) {
                                setTimeout(() => showCelebrationMessage("You found all the memories! ❤️"), 500);
                            }
                        } else {
                            // Not a match, flip back
                            setTimeout(() => {
                                flippedCards.forEach(c => c.classList.remove('flip'));
                                flippedCards = [];
                                lockBoard = false;
                            }, 1200);
                        }
                    }
                });
            });
        }

        function hideMemoryGame() {
            document.querySelector('.memory-game-container').style.display = 'none';
            document.getElementById('actionButtonsContainer').style.display = 'block';
        }
    </script>
</body>
</html>